<!DOCTYPE html>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="generator" content="Observable Framework v1.11.0">
<title>Export design points | Commonsense statement</title>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Source+Serif+4:ital,opsz,wght@0,8..60,200..900;1,8..60,200..900&amp;display=swap" crossorigin>
<link rel="preload" as="style" href="./_observablehq/theme-air,near-midnight,alt,wide.f6ca92af.css">
<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css2?family=Source+Serif+4:ital,opsz,wght@0,8..60,200..900;1,8..60,200..900&amp;display=swap" crossorigin>
<link rel="stylesheet" type="text/css" href="./_observablehq/theme-air,near-midnight,alt,wide.f6ca92af.css">
<link rel="modulepreload" href="./_observablehq/client.35f2865f.js">
<link rel="modulepreload" href="./_observablehq/runtime.c4c9c1af.js">
<link rel="modulepreload" href="./_observablehq/stdlib.b89f0aee.js">
<link rel="modulepreload" href="./_npm/react@18.3.1/jsx-runtime.e4a2bff6.js">
<link rel="modulepreload" href="./_node/fuzzysort@3.0.2/index.c07fac6a.js">
<link rel="modulepreload" href="./_npm/react@18.3.1/5c25487d.js">
<link rel="modulepreload" href="./_npm/d3-dsv@3.0.1/407f7a1f.js">
<link rel="modulepreload" href="./_npm/htl@0.3.1/063eb405.js">
<link rel="modulepreload" href="./_npm/react-dom@18.3.1/50d840fe.js">
<link rel="modulepreload" href="./_npm/scheduler@0.23.2/fef76239.js">
<link rel="icon" href="./_file/logo.fb9817be.svg" type="image/svg+xml" sizes="32x32">
<script type="module">

import {define} from "./_observablehq/client.35f2865f.js";
import {registerFile} from "./_observablehq/stdlib.b89f0aee.js";

registerFile("./data/statements.csv", {"name":"./data/statements.csv","mimeType":"text/csv","path":"./_file/data/statements.40dfc4dc.csv","lastModified":1727461613762,"size":4990767});

define({id: "8f94071c", inputs: ["FileAttachment"], outputs: ["statements"], body: async (FileAttachment) => {
// Load your statements
const statements = await FileAttachment("./data/statements.csv").csv({
  typed: true,
});
return {statements};
}});

define({id: "eccf9f8f", mode: "jsx", outputs: ["Fragment","jsx","jsxs","fuzzysort","useState","useEffect","Table"], body: async () => {
const [{Fragment, jsx, jsxs}, {default: fuzzysort}, {useState, useEffect}] = await Promise.all([import("./_npm/react@18.3.1/jsx-runtime.e4a2bff6.js"), import("./_node/fuzzysort@3.0.2/index.c07fac6a.js"), import("./_npm/react@18.3.1/5c25487d.js")]);
function Table({ searchQuery, data }) {
  if (!data) {
    return /* @__PURE__ */ jsx("div", { children: "Loading..." });
  }
  const [selectedIds, setSelectedIds] = useState(/* @__PURE__ */ new Set());
  const [filteredData, setFilteredData] = useState([]);
  const [binaryFilter, setBinaryFilter] = useState({
    behavior: "",
    everyday: "",
    figure_of_speech: "",
    judgment: "",
    opinion: "",
    reasoning: ""
  });
  useEffect(() => {
    let filtered = data;
    if (searchQuery) {
      const results = fuzzysort.go(searchQuery, data, {
        keys: ["statement", "id", "statementCategory"]
      });
      filtered = results.map((r) => r.obj);
    }
    filtered = filtered.filter((item) => {
      return (binaryFilter.behavior === "" || binaryFilter.behavior == item.behavior) && (binaryFilter.everyday === "" || binaryFilter.everyday == item.everyday) && (binaryFilter.figure_of_speech === "" || binaryFilter.figure_of_speech == item.figure_of_speech) && (binaryFilter.judgment === "" || binaryFilter.judgment == item.judgment) && (binaryFilter.opinion === "" || binaryFilter.opinion == item.opinion) && (binaryFilter.reasoning === "" || binaryFilter.reasoning == item.reasoning);
    });
    setFilteredData(filtered);
  }, [searchQuery, data, binaryFilter]);
  const handleCheckboxChange = (id) => {
    setSelectedIds((prevSelectedIds) => {
      const newSelectedIds = new Set(prevSelectedIds);
      if (newSelectedIds.has(id)) {
        newSelectedIds.delete(id);
      } else {
        newSelectedIds.add(id);
      }
      return newSelectedIds;
    });
  };
  const exportSelectedIds = () => {
    const idsArray = Array.from(selectedIds);
    console.log("Selected IDs:", idsArray);
    setSelectedIds(/* @__PURE__ */ new Set());
  };
  const handleFilterChange = (key, value) => {
    setBinaryFilter((prevFilters) => ({
      ...prevFilters,
      [key]: value
    }));
  };
  return /* @__PURE__ */ jsx(Fragment, { children: /* @__PURE__ */ jsxs("div", { className: "overflow-x-auto", children: [
    /* @__PURE__ */ jsxs("div", { className: "flex items-center space-x-2", children: [
      /* @__PURE__ */ jsx(
        "button",
        {
          onClick: exportSelectedIds,
          className: "btn btn-xs p-2 bg-blue-500 text-white rounded",
          children: "Export Selected IDs"
        }
      ),
      /* @__PURE__ */ jsxs("p", { children: [
        "[",
        Array.from(selectedIds).map((i, index) => /* @__PURE__ */ jsxs("span", { children: [
          i,
          index < selectedIds.size - 1 ? ", " : ""
        ] }, i)),
        "]"
      ] }),
      [
        "behavior",
        "everyday",
        "figure_of_speech",
        "judgment",
        "opinion",
        "reasoning"
      ].map((key) => /* @__PURE__ */ jsxs(
        "select",
        {
          value: binaryFilter[key],
          onChange: (e) => handleFilterChange(key, e.target.value),
          className: "border p-1 rounded",
          children: [
            /* @__PURE__ */ jsx("option", { value: "", children: key }),
            /* @__PURE__ */ jsx("option", { value: "0", children: "0" }),
            /* @__PURE__ */ jsx("option", { value: "1", children: "1" })
          ]
        },
        key
      ))
    ] }),
    /* @__PURE__ */ jsxs("table", { className: "min-w-full divide-y divide-gray-200", children: [
      /* @__PURE__ */ jsx("thead", { children: /* @__PURE__ */ jsxs("tr", { children: [
        /* @__PURE__ */ jsx("th", { className: "px-2 !py-1" }),
        /* @__PURE__ */ jsx("th", { className: "px-2 !py-1 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Id" }),
        /* @__PURE__ */ jsx("th", { className: "px-6 !py-1 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Statement" }),
        /* @__PURE__ */ jsx("th", { className: "px-2 !py-1 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Category" }),
        /* @__PURE__ */ jsx("th", { className: "px-2 !py-1 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Behavior" }),
        /* @__PURE__ */ jsx("th", { className: "px-2 !py-1 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Everyday" }),
        /* @__PURE__ */ jsx("th", { className: "px-2 !py-1 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Figure of Speech" }),
        /* @__PURE__ */ jsx("th", { className: "px-2 !py-1 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Judgment" }),
        /* @__PURE__ */ jsx("th", { className: "px-2 !py-1 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Opinion" }),
        /* @__PURE__ */ jsx("th", { className: "px-2 !py-1 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Reasoning" })
      ] }) }),
      /* @__PURE__ */ jsx("tbody", { className: "bg-white divide-y divide-gray-200", children: filteredData.map((d, index) => {
        return /* @__PURE__ */ jsxs("tr", { children: [
          /* @__PURE__ */ jsx("td", { className: "px-2 py-4", children: /* @__PURE__ */ jsx(
            "input",
            {
              type: "checkbox",
              checked: selectedIds.has(d.id),
              onChange: () => handleCheckboxChange(d.id)
            }
          ) }),
          /* @__PURE__ */ jsx("td", { className: "px-2 py-4 text-sm text-gray-900", children: d.id }),
          /* @__PURE__ */ jsx("td", { className: "px-6 py-4 text-sm text-gray-900 break-words", children: d.statement }),
          /* @__PURE__ */ jsx("td", { className: "px-6 py-4 text-sm text-gray-900 break-words", children: d.statementCategory }),
          /* @__PURE__ */ jsx("td", { className: "px-2 py-4 text-sm text-gray-900 text-center", children: d.behavior }),
          /* @__PURE__ */ jsx("td", { className: "px-2 py-4 text-sm text-gray-900 text-center", children: d.everyday }),
          /* @__PURE__ */ jsx("td", { className: "px-2 py-4 text-sm text-gray-900 text-center", children: d.figure_of_speech }),
          /* @__PURE__ */ jsx("td", { className: "px-2 py-4 text-sm text-gray-900 text-center", children: d.judgment }),
          /* @__PURE__ */ jsx("td", { className: "px-2 py-4 text-sm text-gray-900 text-center", children: d.opinion }),
          /* @__PURE__ */ jsx("td", { className: "px-2 py-4 text-sm text-gray-900 text-center", children: d.reasoning })
        ] }, `${index}-${d.id}`);
      }) })
    ] })
  ] }) });
}
return {Fragment,jsx,jsxs,fuzzysort,useState,useEffect,Table};
}});

define({id: "c31e81fd", inputs: ["html","Generators"], outputs: ["subjectInput","search"], body: (html,Generators) => {
const subjectInput = html`<input
  type="text"
  placeholder="Search for a statement..."
  class="min-w-[900px] p-2 rounded mt-2 border"
/>`;
const search = Generators.input(subjectInput);
return {subjectInput,search};
}});

define({id: "4bfa21db", mode: "inline", inputs: ["subjectInput","display"], body: async (subjectInput,display) => {
display(await(
subjectInput
))
}});

define({id: "a34b8605", mode: "jsx", inputs: ["display","Table","search","statements"], outputs: ["jsx"], body: async (display,Table,search,statements) => {
const {jsx} = await import("./_npm/react@18.3.1/jsx-runtime.e4a2bff6.js");
display(/* @__PURE__ */ jsx(Table, { searchQuery: search || "", data: statements }));
return {jsx};
}});

</script>
<input id="observablehq-sidebar-toggle" type="checkbox" title="Toggle sidebar">
<label id="observablehq-sidebar-backdrop" for="observablehq-sidebar-toggle"></label>
<nav id="observablehq-sidebar">
  <ol>
    <label id="observablehq-sidebar-close" for="observablehq-sidebar-toggle"></label>
    <li class="observablehq-link"><a href="./">Commonsense statement</a></li>
  </ol>
  <ol>
    <li class="observablehq-link observablehq-link-active"><a href="./export-designpoint">Export design points</a></li>
    <li class="observablehq-link"><a href="./platform-report">Platform report</a></li>
    <li class="observablehq-link"><a href="./statement-dashboard">Statement dashboard</a></li>
  </ol>
</nav>
<script>{Object.assign(document.createElement("a"),{href:""}).password&&location.replace(location.href);const e=document.querySelector("#observablehq-sidebar"),t=document.querySelector("#observablehq-sidebar-toggle"),r=sessionStorage.getItem("observablehq-sidebar");r?t.checked=r==="true":t.indeterminate=!0;for(const o of document.querySelectorAll("#observablehq-sidebar summary")){const s=o.parentElement;switch(sessionStorage.getItem(`observablehq-sidebar:${o.textContent}`)){case"true":s.open=!0;break;case"false":s.classList.contains("observablehq-section-active")||(s.open=!1);break}}addEventListener("beforeunload",()=>sessionStorage.setItem("observablehq-sidebar-scrolly",`${e.scrollTop}`));const a=sessionStorage.getItem("observablehq-sidebar-scrolly");a!=null&&(e.style.cssText="overflow: hidden;",e.scrollTop=+a,e.style.cssText="");}</script>
<div id="observablehq-center">
<main id="observablehq-main" class="observablehq">
<h1 class="text-4xl font-bold mb-4">Export design points</h1>
This page allows you to export the design points from the experiment buckets.
<div class="observablehq observablehq--block"><!--:8f94071c:--></div>
<div class="observablehq observablehq--block"><!--:eccf9f8f:--></div>
<div class="observablehq observablehq--block"><!--:c31e81fd:--></div>
<p><observablehq-loading></observablehq-loading><!--:4bfa21db:--></p>
<div class="observablehq observablehq--block"><!--:a34b8605:--></div>
<hr>
<script src="https://cdn.tailwindcss.com"></script>
</main>
<footer id="observablehq-footer">
<div><div class="text-center">Made with ❤️ by the CSSLab commonsense team.</div></div>
</footer>
</div>
